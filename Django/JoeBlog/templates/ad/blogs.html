{% load staticfiles %}
<!DOCTYPE html>
<html>
<ul class="collapsible" data-collapsible="expandable">
    {% for column in data %}
        <li>
            <div class="collapsible-header">
                <i class="material-icons">list</i>
                <span id="column{{ column.column_id }}"
                      data-columnId="{{ column.column_id }}">{{ column.column_name }}</span>
                <i class="material-icons right delete_column" data-column_id="{{ column.column_id }}">delete</i>
                <i class="material-icons right edit-column" data-column_id="{{ column.column_id }}">mode_edit</i>
            </div>
            <div class="collapsible-body white">
                {% for blog in column.blogs %}
                    <div class="valign-wrapper blog-item">
                        <i class="material-icons" style="margin-right: 20px;">description</i>
                        <span>{{ blog.title }}</span>
                        <div style="margin-left: auto;">
                            <i class="material-icons handcursor right delete_blog" data-blog_id="{{ blog.id }}"
                               data-column_id="{{ column.column_id }}">delete</i>
                            <i class="material-icons handcursor right edit_blog" data-blog_id="{{ blog.id }}"
                               data-column_id="{{ column.column_id }}">mode_edit</i>
                        </div>
                    </div>
                {% endfor %}
                <div class="valign-wrapper center-align">
                    <i class="material-icons valign handcursor blog-add" data-column_id="{{ column.column_id }}">note_add</i>
                </div>
            </div>
        </li>
    {% endfor %}

    <li>
        <div id="add_column" class="center-align valign-wrapper">
            <i class="medium material-icons valign handcursor" style="width: 100%;">playlist_add</i>
        </div>
    </li>
</ul>

<div id="dialog" class="modal">
    <div class="modal-content">
        <h4 id="dialog_title">提示</h4>
        <p id="dialog_content">数据已经改变，是否保存？</p>
    </div>
    <div class="modal-footer">
        <a id="dialog_btn1" class=" modal-action modal-close waves-effect waves-red btn-flat">保存</a>
        <a id="dialog_btn2" class=" modal-action modal-close waves-effect waves-green btn-flat">取消</a>
    </div>
</div>

<div id="dialog_add_column" class="modal">
    <div class="modal-content">
        <div class="input-field">
            <input id="dialog_input" type="text" class="validate">
            <label for="dialog_input">输入栏目名</label>
        </div>
    </div>
    <div class="modal-footer">
        <a id="column_add_save" class=" modal-action modal-close waves-effect waves-red btn-flat">保存</a>
        <a id="column_add_cancel" class=" modal-action modal-close waves-effect waves-green btn-flat">取消</a>
    </div>
</div>
</html>